Chapter 5: Packaging & Deployment, where your Python project becomes a tool others can install, run, or integrate just like any professional library or API. This is the bridge between â€œI built something coolâ€ and â€œothers can use it too.â€

ğŸ“¦ Chapter 5: Packaging & Deployment
ğŸ¯ Goal
Turn your Python script into a distributable package or deployable API, so it can be installed via pip, run as a CLI tool, or served as a web service.

ğŸ§± Option A: Package as a CLI Tool (Installable via pip)
âœ… 1. Restructure Your Project
python-dev-practice/
â”œâ”€â”€ billing_tool/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ cli.py
â”‚   â””â”€â”€ billing.py
â”œâ”€â”€ tests/
â”œâ”€â”€ setup.py
â”œâ”€â”€ README.md
â”œâ”€â”€ requirements.txt
â””â”€â”€ .gitignore


âœ… 2. Add CLI Entry Point
ğŸ“ billing_tool/cli.py
import argparse
from billing_tool.billing import apply_billing

def main():
    parser = argparse.ArgumentParser(description="Automate tenant billing")
    parser.add_argument("file", help="Path to Excel file")
    args = parser.parse_args()
    apply_billing(args.file)

î·™î·š
âœ… 3. Create setup.py
from setuptools import setup, find_packages

setup(
    name="billing_tool",
    version="0.1.0",
    packages=find_packages(),
    install_requires=["openpyxl"],
    entry_points={
        "console_scripts": [
            "billing-tool=billing_tool.cli:main"
        ]
    },
)


Now you can install it locally:
pip install .
billing-tool data/tenants.xlsx


âœ… This turns your script into a command-line tool anyone can run after installing.


ğŸŒ Option B: Deploy as a REST API (Using FastAPI)
âœ… 1. Install FastAPI & Uvicorn
pip install fastapi uvicorn


âœ… 2. Create API Endpoint
ğŸ“ billing_tool/api.py
from fastapi import FastAPI
from billing_tool.billing import apply_billing

app = FastAPI()

@app.post("/run-billing/")
def run_billing(file_path: str):
    apply_billing(file_path)
    return {"status": "success", "file": file_path}


âœ… 3. Run the API
uvicorn billing_tool.api:app --reload


Visit: http://127.0.0.1:8000/docs for interactive Swagger UI.

ğŸš€ Option C: Publish to PyPI (Optional)
Once polished, you can publish your package to PyPI so others can install it via:
pip install billing-tool


Youâ€™ll need:
- setup.py
- README.md
- LICENSE
- twine for uploading

âœ… Your Task
- Choose CLI or API packaging
- Refactor your code into a package structure
- Add setup.py and test local installation or API deployment
